# community-expenses-submission
Experiments towards a simple tool to support community projects that handle submission of expenses from participants.

## Stack

* Auth0
  - User registration and login is handled via Auth0
  - Auth0 provides a JWT to the user on successful login
* Hasura backend
  - The backend is a hasura server
  - It exposes a postgres database via GraphQL
  - The configuration is in the `hasura/` folder
  - Hasura takes user data from the JWT generated by Auth0
* Media server
  - Images are uploaded to and served from a dedicated media server
  - It (currently) puts files on disk
  - The media server enforces permissions
* React frontend
  - Using redux (minimally)
  - Apollo is the GraphQL client connecting to Hasura
  - The Auth0-lock package is used to handle authentication
    - The JWT is written into `localStorage` on successful login

### Services

The stack can be deployed with the following services:

* [Auth0](https://auth0.com/) for user management
  - See the Hasura docs on how to link Auth0 and Hasura
* [Heroku](https://www.heroku.com/) for the hasura server
  - Should fit comfortably within their free dyno limit
* [Netlify](https://www.netlify.com/) for the static frontend
  - Netlify offers free static site hosting and will build from GitHub automatically
